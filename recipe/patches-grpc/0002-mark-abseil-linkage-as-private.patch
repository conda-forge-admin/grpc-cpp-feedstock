From 2adf11c7fcbb490d67db053dc6a99fc30d7e011e Mon Sep 17 00:00:00 2001
From: "H. Vetinari" <h.vetinari@gmx.com>
Date: Tue, 23 Aug 2022 12:01:57 +0200
Subject: [PATCH 2/2] mark abseil linkage as private

This can be done pretty much mechanically by replacing
`absl::` with `PRIVATE absl::` and then filling in
`PUBLIC  ` for all the other targets in target_link_libraries.

Co-Authored-By: Mark Harfouche <mark.harfouche@gmail.com>
---
 CMakeLists.txt | 643 +++++++++++++++++++++++++------------------------
 1 file changed, 323 insertions(+), 320 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index b252fc72e7..85b38508a5 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1530,19 +1530,22 @@ target_include_directories(gpr
     ${_gRPC_ZLIB_INCLUDE_DIR}
 )
 target_link_libraries(gpr
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::base
-  absl::core_headers
-  absl::memory
-  absl::random_random
-  absl::status
-  absl::cord
-  absl::str_format
-  absl::strings
-  absl::synchronization
-  absl::time
-  absl::optional
-  upb
+  # core libs
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  # external dependencies used within grpc
+  PRIVATE absl::base
+  PRIVATE absl::core_headers
+  PRIVATE absl::memory
+  PRIVATE absl::random_random
+  PRIVATE absl::status
+  PRIVATE absl::cord
+  PRIVATE absl::str_format
+  PRIVATE absl::strings
+  PRIVATE absl::synchronization
+  PRIVATE absl::time
+  PRIVATE absl::optional
+  # vendored libs
+  PUBLIC  upb
 )
 if(_gRPC_PLATFORM_ANDROID)
   target_link_libraries(gpr
@@ -2317,18 +2320,18 @@ target_link_libraries(grpc
   PRIVATE ${_gRPC_RE2_LIBRARIES}
   PRIVATE ${_gRPC_SSL_LIBRARIES}
   PRIVATE ${_gRPC_ZLIB_LIBRARIES}
-  # external dependencies that need to available at runtime
-  PUBLIC  absl::cleanup
-  PUBLIC  absl::flat_hash_map
-  PUBLIC  absl::flat_hash_set
-  PUBLIC  absl::inlined_vector
-  PUBLIC  absl::bind_front
-  PUBLIC  absl::hash
-  PUBLIC  absl::type_traits
-  PUBLIC  absl::statusor
-  PUBLIC  absl::span
-  PUBLIC  absl::variant
-  PUBLIC  absl::utility
+  # external dependencies used within grpc
+  PRIVATE absl::cleanup
+  PRIVATE absl::flat_hash_map
+  PRIVATE absl::flat_hash_set
+  PRIVATE absl::inlined_vector
+  PRIVATE absl::bind_front
+  PRIVATE absl::hash
+  PRIVATE absl::type_traits
+  PRIVATE absl::statusor
+  PRIVATE absl::span
+  PRIVATE absl::variant
+  PRIVATE absl::utility
   # targets which belong to grpc anyway
   PUBLIC  gpr
 )
@@ -2434,11 +2437,11 @@ target_include_directories(grpc_test_util
     ${_gRPC_ZLIB_INCLUDE_DIR}
 )
 target_link_libraries(grpc_test_util
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::failure_signal_handler
-  absl::stacktrace
-  absl::symbolize
-  grpc
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::failure_signal_handler
+  PRIVATE absl::stacktrace
+  PRIVATE absl::symbolize
+  PUBLIC  grpc
 )
 if(_gRPC_PLATFORM_IOS OR _gRPC_PLATFORM_MAC)
   target_link_libraries(grpc_test_util "-framework CoreFoundation")
@@ -2502,11 +2505,11 @@ target_include_directories(grpc_test_util_unsecure
     ${_gRPC_ZLIB_INCLUDE_DIR}
 )
 target_link_libraries(grpc_test_util_unsecure
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::failure_signal_handler
-  absl::stacktrace
-  absl::symbolize
-  grpc_unsecure
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::failure_signal_handler
+  PRIVATE absl::stacktrace
+  PRIVATE absl::symbolize
+  PUBLIC  grpc_unsecure
 )
 if(_gRPC_PLATFORM_IOS OR _gRPC_PLATFORM_MAC)
   target_link_libraries(grpc_test_util_unsecure "-framework CoreFoundation")
@@ -2864,18 +2867,18 @@ target_link_libraries(grpc_unsecure
   PRIVATE ${_gRPC_CARES_LIBRARIES}
   PRIVATE ${_gRPC_RE2_LIBRARIES}
   PRIVATE ${_gRPC_ZLIB_LIBRARIES}
-  # external dependencies that need to available at runtime
-  PUBLIC  absl::cleanup
-  PUBLIC  absl::flat_hash_map
-  PUBLIC  absl::flat_hash_set
-  PUBLIC  absl::inlined_vector
-  PUBLIC  absl::bind_front
-  PUBLIC  absl::hash
-  PUBLIC  absl::type_traits
-  PUBLIC  absl::statusor
-  PUBLIC  absl::span
-  PUBLIC  absl::variant
-  PUBLIC  absl::utility
+  # external dependencies used within grpc
+  PRIVATE absl::cleanup
+  PRIVATE absl::flat_hash_map
+  PRIVATE absl::flat_hash_set
+  PRIVATE absl::inlined_vector
+  PRIVATE absl::bind_front
+  PRIVATE absl::hash
+  PRIVATE absl::type_traits
+  PRIVATE absl::statusor
+  PRIVATE absl::span
+  PRIVATE absl::variant
+  PRIVATE absl::utility
   # targets which belong to grpc anyway
   PUBLIC  gpr
 )
@@ -3646,10 +3649,10 @@ target_include_directories(grpc++_test_config
     ${_gRPC_PROTO_GENS_DIR}
 )
 target_link_libraries(grpc++_test_config
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::flags_parse
-  gpr
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::flags_parse
+  PUBLIC  gpr
 )
 
 
@@ -3703,11 +3706,11 @@ target_include_directories(grpc++_test_util
     ${_gRPC_PROTO_GENS_DIR}
 )
 target_link_libraries(grpc++_test_util
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::flags
-  grpc++
-  grpc_test_util
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::flags
+  PUBLIC  grpc++
+  PUBLIC  grpc_test_util
 )
 
 
@@ -6087,12 +6090,12 @@ if(_gRPC_PLATFORM_LINUX OR _gRPC_PLATFORM_POSIX)
   )
 
   target_link_libraries(memory_quota_stress_test
-    ${_gRPC_ALLTARGETS_LIBRARIES}
-    absl::type_traits
-    absl::statusor
-    absl::variant
-    absl::utility
-    gpr
+    PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+    PRIVATE absl::type_traits
+    PRIVATE absl::statusor
+    PRIVATE absl::variant
+    PRIVATE absl::utility
+    PUBLIC  gpr
   )
 
 
@@ -7396,26 +7399,26 @@ target_include_directories(activity_test
 )
 
 target_link_libraries(activity_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::base
-  absl::core_headers
-  absl::flat_hash_set
-  absl::hash
-  absl::memory
-  absl::type_traits
-  absl::random_random
-  absl::status
-  absl::statusor
-  absl::cord
-  absl::str_format
-  absl::strings
-  absl::synchronization
-  absl::time
-  absl::optional
-  absl::variant
-  absl::utility
-  upb
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::base
+  PRIVATE absl::core_headers
+  PRIVATE absl::flat_hash_set
+  PRIVATE absl::hash
+  PRIVATE absl::memory
+  PRIVATE absl::type_traits
+  PRIVATE absl::random_random
+  PRIVATE absl::status
+  PRIVATE absl::statusor
+  PRIVATE absl::cord
+  PRIVATE absl::str_format
+  PRIVATE absl::strings
+  PRIVATE absl::synchronization
+  PRIVATE absl::time
+  PRIVATE absl::optional
+  PRIVATE absl::variant
+  PRIVATE absl::utility
+  PUBLIC  upb
 )
 
 
@@ -7723,13 +7726,13 @@ target_include_directories(arena_promise_test
 )
 
 target_link_libraries(arena_promise_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::statusor
-  absl::variant
-  absl::utility
-  gpr
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::statusor
+  PRIVATE absl::variant
+  PRIVATE absl::utility
+  PUBLIC  gpr
 )
 
 
@@ -7930,9 +7933,9 @@ target_include_directories(avl_test
 )
 
 target_link_libraries(avl_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::inlined_vector
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::inlined_vector
 )
 
 
@@ -8465,12 +8468,12 @@ target_include_directories(call_push_pull_test
 )
 
 target_link_libraries(call_push_pull_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::status
-  absl::statusor
-  absl::variant
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::status
+  PRIVATE absl::statusor
+  PRIVATE absl::variant
 )
 
 
@@ -9064,13 +9067,13 @@ target_include_directories(chunked_vector_test
 )
 
 target_link_libraries(chunked_vector_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::statusor
-  absl::variant
-  absl::utility
-  gpr
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::statusor
+  PRIVATE absl::variant
+  PRIVATE absl::utility
+  PUBLIC  gpr
 )
 
 
@@ -10488,13 +10491,13 @@ target_include_directories(exec_ctx_wakeup_scheduler_test
 )
 
 target_link_libraries(exec_ctx_wakeup_scheduler_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::statusor
-  absl::variant
-  absl::utility
-  gpr
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::statusor
+  PRIVATE absl::variant
+  PRIVATE absl::utility
+  PUBLIC  gpr
 )
 
 
@@ -10814,15 +10817,15 @@ target_include_directories(for_each_test
 )
 
 target_link_libraries(for_each_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::flat_hash_set
-  absl::hash
-  absl::type_traits
-  absl::statusor
-  absl::variant
-  absl::utility
-  gpr
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::flat_hash_set
+  PRIVATE absl::hash
+  PRIVATE absl::type_traits
+  PRIVATE absl::statusor
+  PRIVATE absl::variant
+  PRIVATE absl::utility
+  PUBLIC  gpr
 )
 
 
@@ -11227,11 +11230,11 @@ target_include_directories(grpc_cli
 )
 
 target_link_libraries(grpc_cli
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::flags
-  grpc++
-  grpc++_test_config
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::flags
+  PUBLIC  grpc++
+  PUBLIC  grpc++_test_config
 )
 
 
@@ -12374,11 +12377,11 @@ target_include_directories(if_test
 )
 
 target_link_libraries(if_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::statusor
-  absl::variant
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::statusor
+  PRIVATE absl::variant
 )
 
 
@@ -12656,11 +12659,11 @@ target_include_directories(join_test
 )
 
 target_link_libraries(join_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::variant
-  absl::utility
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::variant
+  PRIVATE absl::utility
 )
 
 
@@ -12812,24 +12815,24 @@ target_include_directories(latch_test
 )
 
 target_link_libraries(latch_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::base
-  absl::core_headers
-  absl::memory
-  absl::type_traits
-  absl::random_random
-  absl::status
-  absl::statusor
-  absl::cord
-  absl::str_format
-  absl::strings
-  absl::synchronization
-  absl::time
-  absl::optional
-  absl::variant
-  absl::utility
-  upb
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::base
+  PRIVATE absl::core_headers
+  PRIVATE absl::memory
+  PRIVATE absl::type_traits
+  PRIVATE absl::random_random
+  PRIVATE absl::status
+  PRIVATE absl::statusor
+  PRIVATE absl::cord
+  PRIVATE absl::str_format
+  PRIVATE absl::strings
+  PRIVATE absl::synchronization
+  PRIVATE absl::time
+  PRIVATE absl::optional
+  PRIVATE absl::variant
+  PRIVATE absl::utility
+  PUBLIC  upb
 )
 
 
@@ -13009,13 +13012,13 @@ target_include_directories(loop_test
 )
 
 target_link_libraries(loop_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::status
-  absl::statusor
-  absl::variant
-  absl::utility
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::status
+  PRIVATE absl::statusor
+  PRIVATE absl::variant
+  PRIVATE absl::utility
 )
 
 
@@ -13048,9 +13051,9 @@ target_include_directories(match_test
 )
 
 target_link_libraries(match_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::variant
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::variant
 )
 
 
@@ -13132,13 +13135,13 @@ target_include_directories(memory_quota_test
 )
 
 target_link_libraries(memory_quota_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::statusor
-  absl::variant
-  absl::utility
-  gpr
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::statusor
+  PRIVATE absl::variant
+  PRIVATE absl::utility
+  PUBLIC  gpr
 )
 
 
@@ -13498,26 +13501,26 @@ target_include_directories(observable_test
 )
 
 target_link_libraries(observable_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::base
-  absl::core_headers
-  absl::flat_hash_set
-  absl::hash
-  absl::memory
-  absl::type_traits
-  absl::random_random
-  absl::status
-  absl::statusor
-  absl::cord
-  absl::str_format
-  absl::strings
-  absl::synchronization
-  absl::time
-  absl::optional
-  absl::variant
-  absl::utility
-  upb
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::base
+  PRIVATE absl::core_headers
+  PRIVATE absl::flat_hash_set
+  PRIVATE absl::hash
+  PRIVATE absl::memory
+  PRIVATE absl::type_traits
+  PRIVATE absl::random_random
+  PRIVATE absl::status
+  PRIVATE absl::statusor
+  PRIVATE absl::cord
+  PRIVATE absl::str_format
+  PRIVATE absl::strings
+  PRIVATE absl::synchronization
+  PRIVATE absl::time
+  PRIVATE absl::optional
+  PRIVATE absl::variant
+  PRIVATE absl::utility
+  PUBLIC  upb
 )
 
 
@@ -13787,13 +13790,13 @@ target_include_directories(pipe_test
 )
 
 target_link_libraries(pipe_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::statusor
-  absl::variant
-  absl::utility
-  gpr
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::statusor
+  PRIVATE absl::variant
+  PRIVATE absl::utility
+  PUBLIC  gpr
 )
 
 
@@ -13826,9 +13829,9 @@ target_include_directories(poll_test
 )
 
 target_link_libraries(poll_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::variant
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::variant
 )
 
 
@@ -13913,13 +13916,13 @@ target_include_directories(promise_factory_test
 )
 
 target_link_libraries(promise_factory_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::bind_front
-  absl::type_traits
-  absl::status
-  absl::optional
-  absl::variant
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::bind_front
+  PRIVATE absl::type_traits
+  PRIVATE absl::status
+  PRIVATE absl::optional
+  PRIVATE absl::variant
 )
 
 
@@ -13952,12 +13955,12 @@ target_include_directories(promise_map_test
 )
 
 target_link_libraries(promise_map_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::status
-  absl::optional
-  absl::variant
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::status
+  PRIVATE absl::optional
+  PRIVATE absl::variant
 )
 
 
@@ -13990,12 +13993,12 @@ target_include_directories(promise_test
 )
 
 target_link_libraries(promise_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::status
-  absl::optional
-  absl::variant
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::status
+  PRIVATE absl::optional
+  PRIVATE absl::variant
 )
 
 
@@ -14278,9 +14281,9 @@ target_include_directories(race_test
 )
 
 target_link_libraries(race_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::variant
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::variant
 )
 
 
@@ -14638,13 +14641,13 @@ target_include_directories(resource_quota_test
 )
 
 target_link_libraries(resource_quota_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::statusor
-  absl::variant
-  absl::utility
-  gpr
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::statusor
+  PRIVATE absl::variant
+  PRIVATE absl::utility
+  PUBLIC  gpr
 )
 
 
@@ -14845,11 +14848,11 @@ target_include_directories(seq_test
 )
 
 target_link_libraries(seq_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::variant
-  absl::utility
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::variant
+  PRIVATE absl::utility
 )
 
 
@@ -15611,20 +15614,20 @@ target_include_directories(single_set_ptr_test
 )
 
 target_link_libraries(single_set_ptr_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::base
-  absl::core_headers
-  absl::memory
-  absl::random_random
-  absl::status
-  absl::cord
-  absl::str_format
-  absl::strings
-  absl::synchronization
-  absl::time
-  absl::optional
-  upb
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::base
+  PRIVATE absl::core_headers
+  PRIVATE absl::memory
+  PRIVATE absl::random_random
+  PRIVATE absl::status
+  PRIVATE absl::cord
+  PRIVATE absl::str_format
+  PRIVATE absl::strings
+  PRIVATE absl::synchronization
+  PRIVATE absl::time
+  PRIVATE absl::optional
+  PUBLIC  upb
 )
 
 
@@ -16106,11 +16109,11 @@ target_include_directories(table_test
 )
 
 target_link_libraries(table_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::optional
-  absl::utility
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::optional
+  PRIVATE absl::utility
 )
 
 
@@ -16225,20 +16228,20 @@ target_include_directories(test_core_gprpp_time_test
 )
 
 target_link_libraries(test_core_gprpp_time_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::base
-  absl::core_headers
-  absl::memory
-  absl::random_random
-  absl::status
-  absl::cord
-  absl::str_format
-  absl::strings
-  absl::synchronization
-  absl::time
-  absl::optional
-  upb
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::base
+  PRIVATE absl::core_headers
+  PRIVATE absl::memory
+  PRIVATE absl::random_random
+  PRIVATE absl::status
+  PRIVATE absl::cord
+  PRIVATE absl::str_format
+  PRIVATE absl::strings
+  PRIVATE absl::synchronization
+  PRIVATE absl::time
+  PRIVATE absl::optional
+  PUBLIC  upb
 )
 
 
@@ -16604,20 +16607,20 @@ target_include_directories(thread_quota_test
 )
 
 target_link_libraries(thread_quota_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::base
-  absl::core_headers
-  absl::memory
-  absl::random_random
-  absl::status
-  absl::cord
-  absl::str_format
-  absl::strings
-  absl::synchronization
-  absl::time
-  absl::optional
-  upb
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::base
+  PRIVATE absl::core_headers
+  PRIVATE absl::memory
+  PRIVATE absl::random_random
+  PRIVATE absl::status
+  PRIVATE absl::cord
+  PRIVATE absl::str_format
+  PRIVATE absl::strings
+  PRIVATE absl::synchronization
+  PRIVATE absl::time
+  PRIVATE absl::optional
+  PUBLIC  upb
 )
 
 
@@ -17137,13 +17140,13 @@ target_include_directories(try_join_test
 )
 
 target_link_libraries(try_join_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::status
-  absl::statusor
-  absl::variant
-  absl::utility
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::status
+  PRIVATE absl::statusor
+  PRIVATE absl::variant
+  PRIVATE absl::utility
 )
 
 
@@ -17211,13 +17214,13 @@ target_include_directories(try_seq_test
 )
 
 target_link_libraries(try_seq_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::type_traits
-  absl::status
-  absl::statusor
-  absl::variant
-  absl::utility
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::type_traits
+  PRIVATE absl::status
+  PRIVATE absl::statusor
+  PRIVATE absl::variant
+  PRIVATE absl::utility
 )
 
 
@@ -17250,10 +17253,10 @@ target_include_directories(unique_type_name_test
 )
 
 target_link_libraries(unique_type_name_test
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::str_format
-  absl::strings
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::str_format
+  PRIVATE absl::strings
 )
 
 
@@ -17688,12 +17691,12 @@ if(_gRPC_PLATFORM_LINUX OR _gRPC_PLATFORM_MAC OR _gRPC_PLATFORM_POSIX)
   )
 
   target_link_libraries(writes_per_rpc_test
-    ${_gRPC_PROTOBUF_LIBRARIES}
-    ${_gRPC_ALLTARGETS_LIBRARIES}
-    absl::failure_signal_handler
-    absl::stacktrace
-    absl::symbolize
-    grpc++
+    PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+    PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+    PRIVATE absl::failure_signal_handler
+    PRIVATE absl::stacktrace
+    PRIVATE absl::symbolize
+    PUBLIC  grpc++
   )
 
 
@@ -18999,13 +19002,13 @@ target_include_directories(xds_interop_client
 )
 
 target_link_libraries(xds_interop_client
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::flags
-  grpc++_reflection
-  grpcpp_channelz
-  grpc_test_util
-  grpc++_test_config
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::flags
+  PUBLIC  grpc++_reflection
+  PUBLIC  grpcpp_channelz
+  PUBLIC  grpc_test_util
+  PUBLIC  grpc++_test_config
 )
 
 
@@ -19073,13 +19076,13 @@ target_include_directories(xds_interop_server
 )
 
 target_link_libraries(xds_interop_server
-  ${_gRPC_PROTOBUF_LIBRARIES}
-  ${_gRPC_ALLTARGETS_LIBRARIES}
-  absl::flags
-  grpc++_reflection
-  grpcpp_channelz
-  grpc_test_util
-  grpc++_test_config
+  PUBLIC  ${_gRPC_PROTOBUF_LIBRARIES}
+  PUBLIC  ${_gRPC_ALLTARGETS_LIBRARIES}
+  PRIVATE absl::flags
+  PUBLIC  grpc++_reflection
+  PUBLIC  grpcpp_channelz
+  PUBLIC  grpc_test_util
+  PUBLIC  grpc++_test_config
 )
 
 
-- 
2.37.0.windows.1

